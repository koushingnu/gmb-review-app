# プロジェクト構造の変更履歴

## 変更日: 2024年[日付]

## 概要

プロジェクトの保守性と拡張性を向上させるため、ディレクトリ構造を機能ベースのアーキテクチャに再編成しました。

## 変更前の構造

```
src/
├── app/                    # Next.jsのページディレクトリ
├── components/            # すべてのコンポーネントが混在
│   ├── ReviewCard.jsx
│   ├── OverallSummary.jsx
│   └── reviews/
├── features/             # 未整理の機能モジュール
├── hooks/               # フックの集まり
├── lib/                # ユーティリティ関数等
├── styles/             # スタイル関連
└── types/              # 型定義ファイル
```

## 変更後の構造

```
src/
├── app/                    # Next.jsのページディレクトリ
├── features/              # 機能ごとのモジュール
│   └── reviews/          # レビュー機能に関連するすべて
│       ├── components/   # レビュー専用のコンポーネント
│       ├── hooks/        # レビュー関連のカスタムフック
│       ├── types/        # レビュー関連の型定義
│       ├── utils/        # レビュー関連のユーティリティ
│       └── api/          # レビュー関連のAPI
├── components/           # 共通コンポーネント
│   ├── common/          # 基本的なUI要素
│   ├── layout/          # レイアウト関連
│   └── charts/          # グラフ関連
├── hooks/               # 共通のカスタムフック
├── lib/                 # 共通ユーティリティ
│   ├── constants/       # 定数定義
│   ├── utils/          # ユーティリティ関数
│   └── api/            # API共通関数
├── styles/              # グローバルスタイル
└── types/               # グローバルな型定義

## 主な変更点

### 1. 機能ベースの構造化
- 各機能（feature）を独立したモジュールとして整理
- 関連するコード（コンポーネント、フック、型定義等）を機能ごとにグループ化
- レビュー機能に関連するすべてのコードを `features/reviews` に集約

### 2. コンポーネントの再分類
- 共通コンポーネントと機能固有コンポーネントを明確に分離
- `components/common`: 再利用可能な基本UIコンポーネント
- `components/layout`: ページレイアウト用コンポーネント
- `components/charts`: グラフ関連の共通コンポーネント

### 3. ユーティリティの整理
- グローバルなユーティリティと機能固有のユーティリティを分離
- 定数、ユーティリティ関数、API関連の明確な分類
- 各機能内で必要なユーティリティは各機能のディレクトリ内に配置

### 4. 型定義の整理
- グローバルな型定義は `types` ディレクトリに維持
- 機能固有の型定義は各機能の `types` ディレクトリに移動

## 移動したファイル
- `components/ReviewCard.jsx` → `features/reviews/components/`
- `components/OverallSummary.jsx` → `features/reviews/components/`

## メリット
1. **保守性の向上**
   - 関連するコードが近くに配置され、変更が容易
   - 機能単位での開発とテストが可能
   - コードの依存関係が明確

2. **拡張性の向上**
   - 新機能の追加が容易
   - 既存機能の修正が他の機能に影響を与えにくい
   - 機能単位でのスケーリングが可能

3. **開発効率の向上**
   - コードの検索が容易
   - 関連するファイルへのアクセスが迅速
   - チーム開発時の作業分担が明確

## 今後の展開
1. 各機能のドキュメント整備
2. コンポーネントライブラリの整備
3. テストカバレッジの向上
4. CI/CDパイプラインの最適化

## 注意点
- インポートパスの更新が必要
- 既存のテストコードの更新が必要
- デプロイメントプロセスの確認が必要

## 変更履歴
| 日付 | 変更内容 | 変更者 |
|------|----------|--------|
| 2024-03-XX | ディレクトリ構造変更履歴の初期作成 | Assistant |
| 2024-03-XX | 変更履歴セクションの追加 | Assistant |
```
